<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome home</title>

  <style>
    /* --- GLOBAL --- */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: black;
    }

    /* --- BACKGROUNDS --- */
    .background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-position: center center;
      background-repeat: no-repeat;
      background-size: contain;
      opacity: 0;      
    }

    .background.visible {
      opacity: 1;
    }

    /* --- GIF --- */
    .gif {
      position: fixed;
      z-index: 10;
      width: 15vw;
      height: auto;
    }

    .gif.bottom-right {
      top: 38.5%;
      left: 60%;
    }

    /* --- BUTTON --- */
    #playAudioButton {
      position: fixed;
      top: 0%;       
      left: 6.25%;   
      width: 5vw;  
      height: auto;  
      z-index: 200;
      cursor: pointer;      
    }

    /* --- CLICKABLES --- */
    .coin, .coffe {
      position: fixed;
      height: auto;
      z-index: 50;
      transition: transform 0.2s ease, filter 0.2s ease;
      cursor: pointer;
    }

    .coin {
      top: 24.5%;
      left: 71.7%;
      width: 4vw;
    }

    .coffe {
      top: 35%;
      left: 16.5%;
      width: 14vw;
    }

    .coin:hover, .coffe:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 0 10px white) brightness(1.2);
    }

  </style>
</head>
<body>

  <!-- BACKGROUNDS -->
  <div id="bg1" class="background"></div>
  <div id="bg2" class="background"></div>

  <!-- AUDIO -->
  <audio id="note1" src="note1.mp3"></audio>
  <audio id="note2" src="note2.mp3"></audio>

  <!-- BUTTON -->
  <img id="playAudioButton" src="button.png" alt="Toggle sound" />

  <!-- GIF -->
  <img id="animatedGif" class="gif bottom-right" src="ximu.gif" alt="animatedGIF" />

  <!-- CLICKABLES -->
  <a href="https://iamximu.itch.io/ximus-first-penny" target="_blank">
    <img class="coin" src="coin.png" alt="coin" />
  </a>

  <a href="https://buymeacoffee.com/ximu?new=1" target="_blank">
    <img class="coffe" src="coffe.png" alt="coffee" />
  </a>

  <script>
    /* --- AUDIO --- */
    const note1 = document.getElementById("note1");
    const note2 = document.getElementById("note2");
    const button = document.getElementById("playAudioButton");

    let audioEnabled = false;

    button.addEventListener("click", () => {
      audioEnabled = true;

      // Audio unlocking
      note1.play().then(() => note1.pause());
      note2.play().then(() => note2.pause());

      button.style.display = "none"; 
    });

    /* --- BACKGROUND SWITCHING --- */
    const images = ["background_1.png", "background_2.png"];
    const bg1 = document.getElementById("bg1");
    const bg2 = document.getElementById("bg2");
    const backgrounds = [bg1, bg2];

    let index = 0;

    // Initial
    bg1.style.backgroundImage = `url(${images[0]})`;
    bg1.classList.add("visible");

    setInterval(() => {
      index = (index + 1) % images.length;

      const current = backgrounds[index % 2];
      const next = backgrounds[(index + 1) % 2];

      next.style.backgroundImage = `url(${images[index]})`;
      next.classList.add("visible");
      current.classList.remove("visible");

      // Alternate sound playback
      if (audioEnabled) {
        const note = index % 2 === 0 ? note1 : note2;
        note.currentTime = 0;
        note.play();
      }

    }, 1500);
  </script>

</body>
</html>

