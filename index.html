<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome home</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: black;
    }

    .background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-position: center center;
      background-repeat: no-repeat;
      background-size: contain;       
      opacity: 0;      
    }

    .background.visible {
      opacity: 1;
    }

    .gif {
      position: fixed;
      z-index: 10;
    }

    .gif.bottom-right {
      top: 360px;
      left: 1200px;
    }
    
    #playAudioButton {
      position: fixed;
      bottom: 20px;
      left: 20px;
      padding: 10px 15px;
      background: rgba(255,255,255,0.2);
      color: white;
      border: 1px solid white;
      border-radius: 8px;
      cursor: pointer;
      z-index: 100;
    }
   
    .clickable-object {
      position: fixed;
      top: 760px;    
      left: 550px;   
      z-index: 50;
      transition: transform 0.2s ease, filter 0.2s ease;
      cursor: pointer;
    }

    .clickable-object:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 0 10px white) brightness(1.2);
    }
  </style>
</head>
<body>
  <div id="bg1" class="background"></div>
  <div id="bg2" class="background"></div>
  
  <audio id="note1" src="note1.mp3"></audio>
  <audio id="note2" src="note2.mp3"></audio>

  <button id="playAudioButton">ðŸ”Š Activate sound</button>

  <img id="animatedGif" class="gif bottom-right" src="ximu.gif" alt="animatedGIF" />
 
  <a href="https://itch.io" target="_blank">
    <img class="clickable-object" src="coin.png" alt="Objecte clicable" />
  </a>

  <script>    
    const note1 = document.getElementById("note1"); 
    const note2 = document.getElementById("note2"); 
    const button = document.getElementById("playAudioButton");

    let audioEnabled = false;

    button.addEventListener("click", () => {
      audioEnabled = true;
      // Petita reproducciÃ³ inicial per desbloquejar Ã udios al navegador
      note1.play().then(() => note1.pause());
      note2.play().then(() => note2.pause());
      button.style.display = "none"; 
    });
    
    const images = ["background_1.png", "background_2.png"];
    let index = 0;
    const bg1 = document.getElementById('bg1');
    const bg2 = document.getElementById('bg2');
    const elements = [bg1, bg2];
    
    bg1.style.backgroundImage = `url(${images[0]})`;
    bg1.classList.add("visible");

    setInterval(() => {
      index = (index + 1) % images.length;
      const current = elements[index % 2];
      const next = elements[(index + 1) % 2];
      
      next.style.backgroundImage = `url(${images[index]})`;
      next.classList.add("visible");
      current.classList.remove("visible");
      
      if (audioEnabled) {
        if (index % 2 === 0) {
          note1.currentTime = 0;
          note1.play();
        } else {
          note2.currentTime = 0;
          note2.play();
        }
      }

    }, 1500);
  </script>
</body>
</html>
